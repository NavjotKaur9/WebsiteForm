<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Link To CSS -->
    <link rel="stylesheet" href="style.css">
    <title>Firebase</title>
</head>
<body>
    <form method="post" id="frmContact">
        <p>
            Fullname: <input type="text" name="fullname" id="fullname" required />
        </p>
        <p>
            Email: <input type="email" name="email" id="email" required />
        </p>
        <p>
            Subject: <input type="text" name="subject" id="subject" />
        </p>
        <p>
            Message: <textarea name="message" id="message"></textarea>
        </p>
        <button type="submit" name="submit">Submit</button>
    </form>

    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.1/firebase-app.js";
        import { getDatabase, ref, set, get, child } from "https://www.gstatic.com/firebasejs/9.22.1/firebase-database.js";
        
        // Paste the code from Firebase
        const firebaseConfig = {
            apiKey: "AIzaSyC-DHoRWIXSnM98BzSqo6rip_I9hZQLFEM",
            authDomain: "websiteform-79d44.firebaseapp.com",
            projectId: "websiteform-79d44",
            storageBucket: "websiteform-79d44.appspot.com",
            messagingSenderId: "580778107969",
            appId: "1:580778107969:web:7033ec8e39f8886a1d12c0",
        };
        
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        
        // Get a reference to the database service
        const db = getDatabase(app);
        
        document.getElementById('frmContact').addEventListener('submit', function(e) {
            e.preventDefault();
            set(ref(db, 'users/' + Math.random().toString(36).slice(2, 7)), {
                name: document.getElementById('fullname').value,
                email: document.getElementById('email').value,
                subject: document.getElementById('subject').value,
                message: document.getElementById('message').value
            });
        
            alert('Your form is submitted');
            document.getElementById('frmContact').reset();
        });
        </script>

</body>
</html>